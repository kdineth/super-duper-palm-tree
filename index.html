<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Naked Theory | Surge Flow: The Agentic Marketing Revolution</title>
    <meta name="description" content="Dominate your market with Naked Theory. Home to Surge Flow, replacing traditional marketing with autonomous growth engines.">
    <meta name="keywords" content="Surge Flow AI, Marketing Agency Kandy, Agentic AI Marketing, Digital Marketing Kandy, AI Marketing Sri Lanka, Naked Theory Pro">
    <meta name="author" content="Naked Theory">
    <link rel="icon" type="image/jpeg" href="logo.jpeg">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        'theory-dark': '#0F172A',
                        'theory-blue': '#0C1E30',
                        'theory-cream': '#FAFAF9',
                        'theory-gold': '#C5A059',
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 1s ease-out forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        html { scroll-behavior: smooth; }
        body { -webkit-font-smoothing: antialiased; }
        h1, h2, h3, h4 { letter-spacing: -0.02em; }
        #mobile-menu { transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); transform: translateX(100%); }
        #mobile-menu.open { transform: translateX(0); }
        .terminal-glow { box-shadow: 0 0 30px rgba(197, 160, 89, 0.15); }
        .agent-active { border-color: #C5A059 !important; background: rgba(197, 160, 89, 0.1); }
        .terminal-scroll::-webkit-scrollbar { width: 4px; }
        .terminal-scroll::-webkit-scrollbar-track { background: transparent; }
        .terminal-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        
        /* Chatbot Custom Styling */
        #chat-window { transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); transform: translateY(20px); opacity: 0; pointer-events: none; }
        #chat-window.open { transform: translateY(0); opacity: 1; pointer-events: all; }
    </style>
</head>
<body class="font-sans text-slate-800 bg-theory-cream min-h-screen selection:bg-theory-blue selection:text-white overflow-x-hidden">

    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 bg-transparent py-4 md:py-6">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <div class="flex items-center gap-2 z-50">
                <div class="w-8 h-8 bg-theory-blue rounded-full flex items-center justify-center text-white font-bold text-lg font-serif">N</div>
                <span class="text-lg md:text-xl font-bold tracking-tight text-theory-blue uppercase">Naked Theory</span>
            </div>

            <div class="hidden md:flex items-center gap-10 text-xs font-bold uppercase tracking-widest text-slate-500">
                <a href="#surgeflow" class="text-theory-blue font-bold">Surge Flow</a>
                <a href="#services" class="hover:text-theory-blue transition-colors">Services</a>
                <a href="#partners" class="hover:text-theory-blue transition-colors">Archive</a>
                <a href="#protocol" class="hover:text-theory-gold transition-colors font-semibold">Protocol</a>
            </div>

            <div class="hidden md:flex items-center gap-6">
                <a href="https://wa.me/94742304698" target="_blank" class="px-6 py-2.5 bg-theory-blue text-white text-xs font-bold tracking-widest uppercase hover:bg-theory-gold transition-colors shadow-lg">
                    Deploy Agent
                </a>
            </div>

            <button id="mobile-menu-btn" class="md:hidden text-theory-blue z-50 p-2">
                <i data-lucide="menu" class="w-8 h-8"></i>
            </button>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-0 z-40 bg-white pt-32 px-8 md:hidden flex flex-col h-screen">
        <div class="flex flex-col gap-8 text-3xl font-serif text-theory-blue">
            <a href="#surgeflow" class="mobile-link text-theory-gold">Surge Flow</a>
            <a href="#services" class="mobile-link border-b border-gray-100 pb-6">Services</a>
            <a href="#partners" class="mobile-link border-b border-gray-100 pb-6">Archive</a>
            <a href="#protocol" class="mobile-link text-theory-gold">The Protocol</a>
        </div>
    </div>

    <header class="relative pt-32 pb-20 md:pt-48 md:pb-40 px-6 overflow-hidden">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-16 items-center">
            <div class="relative z-10 animate-fade-in-up">
                <span class="text-theory-gold font-bold tracking-[0.3em] text-xs uppercase mb-4 block">/// The Agentic Revolution</span>
                <h1 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-serif text-theory-blue leading-[1.05] mb-8">
                    Fire Your Marketing<br/>
                    <span class="italic font-light text-slate-400">Department.</span>
                </h1>
                <p class="text-lg text-slate-600 mb-10 max-w-md leading-relaxed font-light">
                    Traditional marketing is slow and expensive. <strong>Surge Flow</strong> is our agentic AI infrastructure that replaces entire departments with autonomous growth engines.
                </p>
                <div class="flex flex-col sm:flex-row gap-5">
                    <a href="#demo" class="px-10 py-4 bg-theory-blue text-white hover:bg-theory-gold transition-colors flex items-center justify-center gap-3 text-xs font-bold tracking-widest uppercase">
                        Test The Agents <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </a>
                    <a href="#protocol" class="px-10 py-4 border border-theory-blue text-theory-blue hover:bg-slate-50 transition-colors text-xs font-bold tracking-widest uppercase flex items-center justify-center">
                        The Protocol
                    </a>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4 h-[500px] md:h-[700px] w-full mt-8 md:mt-0 relative">
                <div class="relative bg-slate-100 rounded-sm overflow-hidden shadow-2xl">
                    <img src="kandy.jpg" alt="Kandy HQ" class="w-full h-full object-cover grayscale opacity-90 transition-transform duration-[2s]">
                    <div class="absolute inset-0 bg-gradient-to-t from-theory-blue/40 via-transparent to-transparent"></div>
                    <div class="absolute bottom-4 left-4"><span class="text-[10px] text-white/70 uppercase tracking-widest bg-theory-blue/40 backdrop-blur-md px-2 py-1">HQ / Kandy</span></div>
                </div>
                <div class="relative bg-slate-100 rounded-sm overflow-hidden shadow-2xl mt-12">
                    <img src="colombo.webp" alt="Colombo Ops" class="w-full h-full object-cover grayscale opacity-90 transition-transform duration-[2s]">
                    <div class="absolute inset-0 bg-gradient-to-t from-theory-blue/40 via-transparent to-transparent"></div>
                    <div class="absolute bottom-4 left-4"><span class="text-[10px] text-white/70 uppercase tracking-widest bg-theory-blue/40 backdrop-blur-md px-2 py-1">Ops / Colombo</span></div>
                </div>
            </div>
        </div>
    </header>

    <section class="bg-theory-blue text-white py-16 border-y border-slate-800">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-12">
            <div class="flex flex-col gap-3 border-l border-white/10 pl-6">
                <i data-lucide="shield-check" class="w-6 h-6 text-theory-gold"></i>
                <div>
                    <h3 class="font-bold text-sm uppercase tracking-wide">Radical Trust</h3>
                    <p class="text-xs text-slate-400 mt-1">Full transparency accounts.</p>
                </div>
            </div>
            <div class="flex flex-col gap-3 border-l border-white/10 pl-6">
                <i data-lucide="trending-up" class="w-6 h-6 text-theory-gold"></i>
                <div>
                    <h3 class="font-bold text-sm uppercase tracking-wide">ROI Focused</h3>
                    <p class="text-xs text-slate-400 mt-1">Bottom-line impact only.</p>
                </div>
            </div>
            <div class="flex flex-col gap-3 border-l border-white/10 pl-6">
                <i data-lucide="globe" class="w-6 h-6 text-theory-gold"></i>
                <div>
                    <h3 class="font-bold text-sm uppercase tracking-wide">Global Scale</h3>
                    <p class="text-xs text-slate-400 mt-1">Kandy to the World.</p>
                </div>
            </div>
            <div class="flex flex-col gap-3 border-l border-white/10 pl-6">
                <i data-lucide="clock" class="w-6 h-6 text-theory-gold"></i>
                <div>
                    <h3 class="font-bold text-sm uppercase tracking-wide">Agile Sprints</h3>
                    <p class="text-xs text-slate-400 mt-1">Speed is currency.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="py-24 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                <div>
                    <span class="text-theory-gold font-bold tracking-widest text-xs uppercase mb-3 block">01 // Capabilities</span>
                    <h2 class="text-4xl md:text-5xl font-serif text-theory-blue">Full-Stack Domination</h2>
                </div>
                <p class="max-w-md text-slate-500 text-sm md:text-base leading-relaxed font-light">
                    We architect the entire digital ecosystem. From the first line of code to the final conversion pixel, we control the vertical.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-0 border border-slate-100 divide-y md:divide-y-0 md:divide-x divide-slate-100">
                <div class="bg-white p-12 group hover:bg-slate-50 transition-colors">
                    <i data-lucide="video" class="text-theory-blue w-8 h-8 mb-6"></i>
                    <h3 class="text-xl font-bold text-theory-blue mb-4">Content Creation</h3>
                    <p class="text-slate-500 text-sm leading-relaxed mb-6">
                        High-end visual narratives and asset generation. We don't just post; we create scroll-stopping leverage.
                    </p>
                </div>
                <div class="bg-white p-12 group hover:bg-slate-50 transition-colors">
                    <i data-lucide="users" class="text-theory-blue w-8 h-8 mb-6"></i>
                    <h3 class="text-xl font-bold text-theory-blue mb-4">Account Handling</h3>
                    <p class="text-slate-500 text-sm leading-relaxed mb-6">
                        Dedicated professional profile management. Zero-latency engagement meets high-level distribution strategy.
                    </p>
                </div>
                <div class="bg-white p-12 group hover:bg-slate-50 transition-colors">
                    <i data-lucide="cpu" class="text-theory-blue w-8 h-8 mb-6"></i>
                    <h3 class="text-xl font-bold text-theory-blue mb-4">AI Automation</h3>
                    <p class="text-slate-500 text-sm leading-relaxed mb-6">
                        Deploying custom agents to handle lead qualification, data analysis, and repetitive marketing workflows 24/7.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="demo" class="py-24 px-6 bg-theory-blue overflow-hidden">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-serif text-white mb-4">Command the Swarm</h2>
                <p class="text-slate-400 max-w-xl mx-auto">Select an agent below to see how Surge Flow handles complex marketing operations in seconds.</p>
            </div>

            <div class="bg-[#050B14] rounded-xl border border-white/10 overflow-hidden shadow-2xl terminal-glow">
                <div class="bg-white/5 border-b border-white/10 px-6 py-4 flex justify-between items-center text-[10px] font-mono text-slate-500 uppercase tracking-widest">
                    <div class="flex gap-2"><div class="w-2.5 h-2.5 rounded-full bg-red-500/40"></div><div class="w-2.5 h-2.5 rounded-full bg-yellow-500/40"></div><div class="w-2.5 h-2.5 rounded-full bg-green-500/40"></div></div>
                    <span>Surge Flow Protocol v1.2.0 — Naked Theory HQ</span>
                    <div class="w-10"></div>
                </div>

                <div class="flex flex-col md:flex-row h-[550px]">
                    <div class="w-full md:w-64 border-r border-white/10 p-4 space-y-3 bg-white/[0.02]">
                        <button onclick="runAgent('creative')" id="btn-creative" class="w-full p-4 border border-white/5 text-left transition-all hover:bg-white/5 group">
                            <div class="flex items-center gap-3">
                                <i data-lucide="palette" class="w-4 h-4 text-theory-gold"></i>
                                <span class="text-[10px] font-bold text-white uppercase tracking-widest">Creative Agent</span>
                            </div>
                        </button>
                        <button onclick="runAgent('audit')" id="btn-audit" class="w-full p-4 border border-white/5 text-left transition-all hover:bg-white/5 group">
                            <div class="flex items-center gap-3">
                                <i data-lucide="shield-search" class="w-4 h-4 text-theory-gold"></i>
                                <span class="text-[10px] font-bold text-white uppercase tracking-widest">Audit Agent</span>
                            </div>
                        </button>
                        <button onclick="runAgent('stats')" id="btn-stats" class="w-full p-4 border border-white/5 text-left transition-all hover:bg-white/5 group">
                            <div class="flex items-center gap-3">
                                <i data-lucide="bar-chart-3" class="w-4 h-4 text-theory-gold"></i>
                                <span class="text-[10px] font-bold text-white uppercase tracking-widest">Statistics Agent</span>
                            </div>
                        </button>
                    </div>

                    <div class="flex-1 p-8 font-mono text-sm terminal-scroll overflow-y-auto bg-black/40 text-slate-300" id="terminal-output">
                        <div class="text-theory-gold mb-2">> Agentic Suite Initialized. Nodes Online.</div>
                        <div class="text-slate-500 mb-8">> Ready for deployment. System baseline LKR 30,000. Select a protocol...</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="partners" class="py-24 px-6 bg-slate-50 border-y border-slate-200">
        <div class="max-w-7xl mx-auto">
            <div class="mb-16">
                <span class="text-theory-gold font-bold tracking-widest text-xs uppercase mb-3 block">02 // Verified Archive</span>
                <h2 class="text-4xl font-serif text-theory-blue mb-6 leading-tight">Strategic Partners</h2>
                <p class="text-slate-500 text-sm max-w-2xl font-light">Brands Naked Theory has escalated through structural branding and agentic execution.</p>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Toyota Lanka</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Automotive</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">OptiSoft LK</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Software</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Golden Land</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Engineering</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Printronics</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Global</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Immediate Apex</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">FinTech</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Roobinzz</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Retail</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Grand Roobinzz</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Luxury</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Moonslice</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">F&B</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Aura Family</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Events</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Sunrise</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Real Estate</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Micro Elec.</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Electronics</span>
                </div>
                <div class="bg-white p-6 border border-slate-200/60 shadow-sm flex flex-col justify-between min-h-[160px]">
                    <div class="font-bold text-[10px] text-theory-blue uppercase tracking-tight">Sunera Med.</div>
                    <span class="text-[8px] text-slate-400 font-mono uppercase">Healthcare</span>
                </div>
            </div>
        </div>
    </section>

    <section id="protocol" class="py-24 px-6 bg-theory-blue text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#ffffff 1px, transparent 1px); background-size: 20px 20px;"></div>
        <div class="max-w-5xl mx-auto relative z-10 border border-white/10 bg-white/5 backdrop-blur-md p-10 md:p-16">
            <div class="flex flex-col lg:flex-row justify-between gap-16">
                <div class="flex-1">
                    <span class="text-theory-gold font-bold tracking-widest text-xs uppercase mb-6 block">/// Agentic Suite</span>
                    <h2 class="text-5xl md:text-6xl font-serif leading-none mb-8 italic font-light">The Suite Protocol.</h2>
                    <p class="text-slate-300 text-lg mb-10 leading-relaxed font-light">
                        The Velocity Protocol has concluded. We are now deploying full-stack autonomous growth engines. Content, Handling, and AI—synced.
                    </p>
                    <a href="https://wa.me/94742304698" class="inline-block px-12 py-5 bg-white text-theory-blue font-bold uppercase tracking-widest hover:bg-theory-gold hover:text-white transition-all shadow-xl">
                        Initiate Protocol
                    </a>
                </div>
                <div class="lg:w-1/3 flex flex-col justify-center border-t lg:border-t-0 lg:border-l border-white/10 pt-8 lg:pt-0 lg:pl-16">
                    <div class="font-mono">
                        <div class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-tighter">Starting Base Price</div>
                        <div class="text-5xl font-bold mb-3" id="protocol-price-display">LKR 0</div>
                        <div class="text-[10px] text-theory-gold uppercase tracking-[0.2em]">Synapse: Online</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact" class="bg-white border-t border-slate-200 pt-20 pb-10 px-6 text-sm text-center">
        <div class="w-10 h-10 bg-theory-blue rounded-full flex items-center justify-center text-white font-bold text-xl font-serif mx-auto mb-6">N</div>
        <p class="text-[10px] text-slate-400 uppercase tracking-widest">&copy; 2026 Naked Theory. Kandy & Colombo Nodes. All Systems Agentic.</p>
    </footer>

    <div class="fixed bottom-6 right-6 z-[100]">
        <div id="chat-window" class="w-[350px] h-[500px] bg-white rounded-lg shadow-2xl border border-slate-200 flex flex-col overflow-hidden mb-4">
            <div class="bg-theory-blue p-4 text-white flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-[10px] font-bold uppercase tracking-widest">Naked-01 Active</span>
                </div>
                <button onclick="toggleChat()" class="text-white/50 hover:text-white"><i data-lucide="x" class="w-4 h-4"></i></button>
            </div>
            <div id="chat-messages" class="flex-1 p-4 overflow-y-auto text-[13px] space-y-4 bg-slate-50 font-light leading-relaxed">
                <div class="bg-slate-200 p-3 rounded-sm max-w-[85%]">Node Online. This is <strong>Naked-01</strong>. State your growth objective for the 30k suite.</div>
            </div>
            <div class="p-4 border-t border-slate-100 flex gap-2 bg-white">
                <input id="chat-input" type="text" placeholder="State objective..." class="flex-1 bg-slate-100 border-none px-3 py-2 text-xs outline-none rounded-sm">
                <button onclick="sendMessage()" class="bg-theory-blue text-white px-3 py-2 rounded-sm"><i data-lucide="send" class="w-4 h-4"></i></button>
            </div>
        </div>

        <button onclick="toggleChat()" class="w-16 h-16 bg-theory-blue rounded-full flex items-center justify-center shadow-2xl border-2 border-theory-gold/30 hover:scale-105 transition-transform overflow-hidden group">
            <svg viewBox="0 0 24 24" class="w-8 h-8 text-theory-gold opacity-90" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 2C7 2 3 6 3 11c0 2.2.8 4.2 2.1 5.7L4 22l5.3-1.1c.9.5 1.8.9 2.7.9 5 0 9-4 9-9s-4-9-9-9z" />
                <path d="M9 11a3 3 0 1 0 6 0 3 3 0 0 0-6 0z" />
                <path d="M7 20c0-2.2 2.2-4 5-4s5 1.8 5 4" stroke-linecap="round"/>
            </svg>
        </button>
    </div>

    <script>
        lucide.createIcons();
        gsap.registerPlugin(ScrollTrigger);

        const STARTING_PRICE = 30000;

        function animatePrice(elementId, targetAmount) {
            const element = document.getElementById(elementId);
            if (!element) return;
            const proxy = { val: 0 };
            gsap.to(proxy, {
                val: targetAmount, duration: 2, ease: "power2.out",
                onUpdate: () => { element.innerText = "LKR " + Math.ceil(proxy.val).toLocaleString(); }
            });
        }

        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 20) {
                navbar.classList.add('bg-white/95', 'backdrop-blur-md', 'shadow-sm', 'py-4');
                navbar.classList.remove('bg-transparent', 'py-6');
            } else {
                navbar.classList.remove('bg-white/95', 'backdrop-blur-md', 'shadow-sm', 'py-4');
                navbar.classList.add('bg-transparent', 'py-6');
            }
        });

        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('open');
            mobileBtn.innerHTML = mobileMenu.classList.contains('open') ? '<i data-lucide="x" class="w-8 h-8"></i>' : '<i data-lucide="menu" class="w-8 h-8"></i>';
            lucide.createIcons();
        });

        // Price trigger
        ScrollTrigger.create({
            trigger: "#protocol",
            onEnter: () => animatePrice('protocol-price-display', STARTING_PRICE)
        });

        // Agent terminal logic
        const agentOutputs = {
            creative: [
                { t: "Initiating Creative Agent...", c: "theory-gold" },
                { t: "Generating 500 ad variants for multi-channel deployment...", c: "slate-500" },
                { t: "Hook: 'Fire your marketing team. Deploy an AI swarm.'", c: "slate-300" }
            ],
            audit: [
                { t: "Initiating Audit Agent...", c: "theory-gold" },
                { t: "Scanning nodes at Kandy & Colombo centers...", c: "slate-500" },
                { t: "Fixing checkout friction and latencies...", c: "slate-500" }
            ],
            stats: [
                { t: "Initiating Statistics Agent...", c: "theory-gold" },
                { t: "Predictive Forecast: +24% revenue over 30 days.", c: "green-400 font-bold" }
            ]
        };

        function runAgent(type) {
            const terminal = document.getElementById('terminal-output');
            ['creative', 'audit', 'stats'].forEach(b => document.getElementById(`btn-${b}`).classList.remove('agent-active'));
            document.getElementById(`btn-${type}`).classList.add('agent-active');
            terminal.innerHTML = '<div class="text-theory-gold animate-pulse mb-4">> DEPLOYING ' + type.toUpperCase() + ' AGENT...</div>';
            let i = 0; const seq = agentOutputs[type];
            const interval = setInterval(() => {
                if (i < seq.length) {
                    const line = document.createElement('div'); line.className = `mb-2 text-${seq[i].c}`;
                    line.innerText = `> ${seq[i].t}`; terminal.appendChild(line);
                    terminal.scrollTop = terminal.scrollHeight; i++;
                } else { clearInterval(interval); }
            }, 600);
        }

        // CHATBOT ENGINE
        const API_KEY = "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";
        const chatWindow = document.getElementById('chat-window');
        const messagesContainer = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');

        function toggleChat() { chatWindow.classList.toggle('open'); }

        async function sendMessage() {
            const val = chatInput.value.trim(); if(!val) return;
            appendMsg('user', val); chatInput.value = '';

            try {
                const res = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                    method: "POST",
                    headers: { "Authorization": `Bearer ${API_KEY}`, "Content-Type": "application/json" },
                    body: JSON.stringify({
                        model: "llama-3.3-70b-versatile",
                        messages: [
                            {role: "system", content: "You are Naked-01. Professional, minimalist, and direct. We offer the Agentic Marketing Suite (Content, Handling, AI) starting at 30k LKR. Brief responses only."},
                            {role: "user", content: val}
                        ]
                    })
                });
                const data = await res.json();
                appendMsg('bot', data.choices[0].message.content);
            } catch { appendMsg('bot', "Connection failure. Re-engage protocol."); }
        }

        function appendMsg(role, text) {
            const div = document.createElement('div');
            div.className = role === 'user' ? 'ml-auto bg-theory-blue text-white p-3 rounded-sm max-w-[85%]' : 'bg-slate-200 p-3 rounded-sm max-w-[85%]';
            div.innerHTML = text; messagesContainer.appendChild(div);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        chatInput.addEventListener('keypress', (e) => { if(e.key === 'Enter') sendMessage(); });
    </script>
</body>
</html>
